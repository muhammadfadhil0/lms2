<!-- Modal Upgrade to Pro - Component -->
<div id="upgradeToProModal" aria-labelledby="upgrade-pro-dialog-title" class="fixed inset-0 hidden" role="dialog"
    aria-modal="true">
    <div class="fixed inset-0 bg-gray-900/50 transition-opacity backdrop"></div>

    <div
        class="flex min-h-full items-end justify-center p-4 text-center focus:outline-none sm:items-center sm:p-0 relative">
        <div
            class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl outline -outline-offset-1 outline-gray-200 transition-all sm:my-8 sm:w-full sm:max-w-lg modal-panel">
            <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                <div class="sm:flex sm:items-start">
                    <div
                        class="mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-gradient-to-r from-orange-100 to-amber-100 sm:mx-0 sm:size-10">
                        <span class="ti ti-star text-orange-600 text-lg"></span>
                    </div>
                    <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                        <h3 id="upgrade-pro-dialog-title" class="text-base font-semibold text-gray-900">Tingkatkan ke
                            Paket Pro</h3>
                        <div class="mt-2">
                            <p class="text-sm text-gray-500">Anda telah mencapai batas maksimum <span
                                    class="font-medium text-orange-600">5 kelas</span> untuk akun gratis.</p>
                            <p class="text-sm text-gray-700 mt-3 font-medium">Tingkatkan pengalaman Anda dengan paket
                                Pro kami:</p>
                            <div class="flex flex-col gap-2 text-sm text-gray-800 mt-3">
                                <div class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="icon icon-tabler icon-tabler-infinity w-4 h-4 text-orange-600 mr-3 flex-shrink-0"
                                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="m0 0h24v24H0z" fill="none" />
                                        <path
                                            d="M9.828 9.172a4 4 0 1 0 0 5.656a10 10 0 0 0 2.172 -2.828a10 10 0 0 1 2.172 -2.828a4 4 0 1 1 0 5.656a10 10 0 0 1 -2.172 -2.828a10 10 0 0 0 -2.172 -2.828z" />
                                    </svg>
                                    <span class="font-medium text-gray-900">Kelas tidak terbatas</span>
                                </div>
                                <div class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="icon icon-tabler icon-tabler-brain w-4 h-4 text-purple-600 mr-3 flex-shrink-0"
                                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="m0 0h24v24H0z" fill="none" />
                                        <path d="M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8" />
                                        <path d="M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8" />
                                        <path d="M17.5 16a3.5 3.5 0 0 0 0 -7h-.5" />
                                        <path d="M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0" />
                                        <path d="M6.5 16a3.5 3.5 0 0 1 0 -7h.5" />
                                        <path d="M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10" />
                                    </svg>
                                    <span class="font-medium text-gray-900">Bantuan PingoAI</span>
                                </div>
                                <div class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="icon icon-tabler icon-tabler-chart-line w-4 h-4 text-blue-600 mr-3 flex-shrink-0"
                                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="m0 0h24v24H0z" fill="none" />
                                        <path d="M4 19l16 0" />
                                        <path d="M4 19l4 -7l4 3l4 -5l4 4" />
                                    </svg>
                                    <span class="font-medium text-gray-900">Analytics lanjutan dengan PingoAI</span>
                                </div>
                                <div class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="icon icon-tabler icon-tabler-database-backup w-4 h-4 text-cyan-600 mr-3 flex-shrink-0"
                                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="m0 0h24v24H0z" fill="none" />
                                        <ellipse cx="12" cy="6" rx="8" ry="3" />
                                        <path d="M4 6v6c0 1.657 3.582 3 8 3c.414 0 .828 -.018 1.239 -.050" />
                                        <path d="M20 10.5v-4.5" />
                                        <path d="M4 12v6c0 1.657 3.582 3 8 3c.35 0 .696 -.009 1.037 -.025" />
                                        <path d="M16 19h6" />
                                        <path d="M19 16l3 3l-3 3" />
                                    </svg>
                                    <span class="font-medium text-gray-900">Bantuan Buat Soal PingoAI</span>
                                </div>
                                <div class="flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="icon icon-tabler icon-tabler-headset w-4 h-4 text-green-600 mr-3 flex-shrink-0"
                                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="m0 0h24v24H0z" fill="none" />
                                        <path d="M4 14v-3a8 8 0 1 1 16 0v3" />
                                        <path d="M18 19c0 1.657 -2.686 3 -6 3" />
                                        <path
                                            d="M4 14a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-1a2 2 0 0 1 -2 -2v-3z" />
                                        <path
                                            d="M15 14a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-1a2 2 0 0 1 -2 -2v-3z" />
                                    </svg>
                                    <span class="font-medium text-gray-900">Bantuan Prioritas</span>
                                </div>
                            </div>
                            <div class="mt-4 p-3 bg-orange-50 rounded-lg border border-orange-200">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-orange-800">Paket Pro</p>
                                        <p class="text-xs text-orange-600">Per bulan</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-lg font-bold text-orange-800">Rp 150.000</p>
                                        <p class="text-xs text-orange-600">30 hari</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                <button id="upgradeToProBtn" type="button"
                    class="inline-flex w-full justify-center rounded-md bg-gradient-to-r from-orange-600 to-amber-600 px-4 py-2 text-sm font-semibold text-white shadow-xs hover:from-orange-700 hover:to-amber-700 sm:ml-3 sm:w-auto items-center disabled:opacity-50 disabled:cursor-not-allowed transition-all">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                    </svg>
                    <span class="upgrade-pro-btn-text">Upgrade Sekarang</span>
                    <svg xmlns="http://www.w3.org/2000/svg"
                        class="icon icon-tabler icon-tabler-loader-2 w-4 h-4 ml-2 animate-spin hidden upgrade-pro-btn-loading"
                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path stroke="none" d="m0 0h24v24H0z" fill="none" />
                        <path d="m12 3a9 9 0 1 0 9 9" />
                    </svg>
                </button>
                <button type="button" id="cancelUpgradeBtn"
                    class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto transition-colors">
                    Pertahankan Gratis
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Styles to ensure modal appears above all elements -->
<style>
    #upgradeToProModal {
        z-index: 2147483647 !important;
        position: fixed !important;
        inset: 0 !important;
    }

    #upgradeToProModal .backdrop {
        z-index: 2147483646 !important;
        position: fixed !important;
        inset: 0 !important;
    }

    #upgradeToProModal .modal-panel {
        z-index: 2147483647 !important;
        position: relative !important;
    }

    /* Ensure modal content is above floating elements */
    #upgradeToProModal .relative {
        z-index: 2147483647 !important;
    }

    /* Hide modal by default */
    #upgradeToProModal.hidden {
        display: none !important;
    }

    /* Show modal when visible */
    #upgradeToProModal:not(.hidden) {
        display: block !important;
    }

    /* Override any conflicting styles */
    #upgradeToProModal * {
        box-sizing: border-box;
    }

    /* Animation classes */
    .modal-enter {
        opacity: 0;
        transform: translateY(-10px) scale(0.95);
    }

    .modal-enter-active {
        opacity: 1;
        transform: translateY(0) scale(1);
        transition: all 0.2s ease-out;
    }

    .modal-leave {
        opacity: 1;
        transform: translateY(0) scale(1);
    }

    .modal-leave-active {
        opacity: 0;
        transform: translateY(-10px) scale(0.95);
        transition: all 0.15s ease-in;
    }
</style>